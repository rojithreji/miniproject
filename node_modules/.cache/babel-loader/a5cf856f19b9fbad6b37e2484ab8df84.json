{"ast":null,"code":"import _slicedToArray from\"/Users/rojithreji/Documents/msil/miniproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import{useSelector}from'react-redux';import{Link,Route,Redirect,useHistory,BrowserRouter as Router}from'react-router-dom';import PopupLogin from'../common/PopupLogin';import'../../assets/styles/LoginHome.css';import Input from'../common/Input';import*as constants from'../../utilities/Constants';import{clearTextField}from'../../utilities/CommonMethods';function Login(_ref){var login=_ref.login;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),success=_useState2[0],setSuccess=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),currentUserName=_useState4[0],setCurrentUserName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),currentPassword=_useState6[0],setCurrentPassword=_useState6[1];var userNames=function userNames(){return window.localStorage.getItem('Username')||\" \";};var _useState7=useState(userNames),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUser=_useState8[1];var userName=window.localStorage.getItem('Username');var password=window.localStorage.getItem('password');var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var history=useHistory();var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isOpen=_useState12[0],setIsOpen=_useState12[1];var togglePopup=function togglePopup(){setIsOpen(!isOpen);setError(false);};var submitHandler=function submitHandler(){console.log(\"Users\",currentUserName,currentPassword);if(currentUserName===userName&&currentPassword==password){console.log(\"Success\");setUser(currentUserName);setSuccess(true);console.log(\"User\",user);login(currentUserName.toUpperCase());}else{setError(true);setCurrentUserName(\"\");setCurrentPassword(\"\");}};var logout=function logout(){console.log(\"logout\");setSuccess(false);};useEffect(function(){window.sessionStorage.setItem('Username',user);},[user]);var userNameHandler=function userNameHandler(datas){setCurrentUserName(datas);};var passwordHandler=function passwordHandler(datas){setCurrentPassword(datas);};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"loginHeading\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginForm\",children:[/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"username\",placeHolder:\"Username\",value:currentUserName,parentCallBack:function parentCallBack(datas){return userNameHandler(datas);}}),/*#__PURE__*/_jsx(Input,{type:\"password\",id:\"password\",placeHolder:\"Password\",value:currentPassword,parentCallBack:function parentCallBack(datas){return passwordHandler(datas);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button\",onClick:submitHandler,value:\"Submit\",children:constants.LOGIN_PAGE.LOGIN_FORM_SUBMIT_BUTTON}),error?/*#__PURE__*/_jsx(PopupLogin,{content:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"b\",{id:\"logout-message\",children:[constants.LOGIN_PAGE.LOGIN_ERROR_MESSAGE,\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"logout-buttons\",children:/*#__PURE__*/_jsx(\"button\",{onClick:togglePopup,className:\"button-logout\",id:\"red\",children:constants.LOGIN_PAGE.LOGIN_ERROR_BUTTON})})]}),handleClose:togglePopup}):null,success?history.push(\"/add\"):history.push(\"/\")]});}export default Login;","map":{"version":3,"sources":["/Users/rojithreji/Documents/msil/miniproject/src/components/prelogin/Login.js"],"names":["React","useEffect","useState","useSelector","Link","Route","Redirect","useHistory","BrowserRouter","Router","PopupLogin","Input","constants","clearTextField","Login","login","success","setSuccess","currentUserName","setCurrentUserName","currentPassword","setCurrentPassword","userNames","window","localStorage","getItem","user","setUser","userName","password","error","setError","history","isOpen","setIsOpen","togglePopup","submitHandler","console","log","toUpperCase","logout","sessionStorage","setItem","userNameHandler","datas","passwordHandler","LOGIN_PAGE","LOGIN_FORM_SUBMIT_BUTTON","LOGIN_ERROR_MESSAGE","LOGIN_ERROR_BUTTON","push"],"mappings":"gTAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAyBC,QAAzB,KAAwC,OAAxC,CACA,OAAQC,WAAR,KAA0B,aAA1B,CACA,OAAQC,IAAR,CAAaC,KAAb,CAAmBC,QAAnB,CAA4BC,UAA5B,CAAuCC,aAAa,GAAIC,CAAAA,MAAxD,KAAqE,kBAArE,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAO,mCAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,iBAAlB,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,2BAA3B,CACA,OAAQC,cAAR,KAA6B,+BAA7B,CAEA,QAASC,CAAAA,KAAT,MAAwB,IAARC,CAAAA,KAAQ,MAARA,KAAQ,eAESb,QAAQ,CAAC,KAAD,CAFjB,wCAEbc,OAFa,eAELC,UAFK,8BAGyBf,QAAQ,CAAC,EAAD,CAHjC,yCAGbgB,eAHa,eAGGC,kBAHH,8BAIwBjB,QAAQ,CAAC,EAAD,CAJhC,yCAIbkB,eAJa,eAIIC,kBAJJ,eAKpB,GAAMC,CAAAA,SAAS,CAAE,QAAXA,CAAAA,SAAW,SAAKC,CAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,GAA2C,GAAhD,EAAjB,CALoB,eAMKvB,QAAQ,CAACoB,SAAD,CANb,yCAMZI,IANY,eAMPC,OANO,eAOpB,GAAMC,CAAAA,QAAQ,CAAGL,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAjB,CACA,GAAMI,CAAAA,QAAQ,CAAGN,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAjB,CARoB,eASMvB,QAAQ,CAAC,KAAD,CATd,0CASb4B,KATa,gBASNC,QATM,gBAUpB,GAAIC,CAAAA,OAAO,CAAGzB,UAAU,EAAxB,CAVoB,gBAYQL,QAAQ,CAAC,KAAD,CAZhB,2CAYb+B,MAZa,gBAYLC,SAZK,gBAcpB,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBD,SAAS,CAAC,CAACD,MAAF,CAAT,CACAF,QAAQ,CAAC,KAAD,CAAR,CAED,CAJD,CAQA,GAAMK,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAI,CAEtBC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAoBpB,eAApB,CAAqCE,eAArC,EAEA,GAAGF,eAAe,GAAKU,QAApB,EAAgCR,eAAe,EAAIS,QAAtD,CAA+D,CAC3DQ,OAAO,CAACC,GAAR,CAAY,SAAZ,EACAX,OAAO,CAACT,eAAD,CAAP,CACAD,UAAU,CAAC,IAAD,CAAV,CAEAoB,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAmBZ,IAAnB,EACAX,KAAK,CAACG,eAAe,CAACqB,WAAhB,EAAD,CAAL,CACH,CAPD,IASI,CACAR,QAAQ,CAAC,IAAD,CAAR,CACAZ,kBAAkB,CAAC,EAAD,CAAlB,CACAE,kBAAkB,CAAC,EAAD,CAAlB,CAGH,CACJ,CApBD,CAqBA,GAAMmB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAI,CACfH,OAAO,CAACC,GAAR,CAAY,QAAZ,EACArB,UAAU,CAAC,KAAD,CAAV,CAED,CAJH,CAMEhB,SAAS,CAAC,UAAI,CACVsB,MAAM,CAACkB,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CAAyChB,IAAzC,EACH,CAFQ,CAEP,CAACA,IAAD,CAFO,CAAT,CAIF,GAAMiB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAS,CAC7BzB,kBAAkB,CAACyB,KAAD,CAAlB,CAEH,CAHD,CAIA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACD,KAAD,CAAS,CAC7BvB,kBAAkB,CAACuB,KAAD,CAAlB,CACH,CAFD,CAIA,mBAEI,aAAK,SAAS,CAAC,OAAf,wBACI,UAAG,SAAS,CAAC,cAAb,mBADJ,cAEQ,aAAK,SAAS,CAAC,WAAf,wBAEI,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,UAAtB,CAAiC,WAAW,CAAC,UAA7C,CAAwD,KAAK,CAAE1B,eAA/D,CAAgF,cAAc,CAAE,wBAAC0B,KAAD,QAASD,CAAAA,eAAe,CAACC,KAAD,CAAxB,EAAhG,EAFJ,cAII,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,UAA1B,CAAqC,WAAW,CAAC,UAAjD,CAA4D,KAAK,CAAExB,eAAnE,CAAoF,cAAc,CAAE,wBAACwB,KAAD,QAASC,CAAAA,eAAe,CAACD,KAAD,CAAxB,EAApG,EAJJ,GAFR,cAUJ,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,QAAhC,CAAwC,OAAO,CAAER,aAAjD,CAAgE,KAAK,CAAC,QAAtE,UAAgFxB,SAAS,CAACkC,UAAV,CAAqBC,wBAArG,EAVI,CAWUjB,KAAD,cACG,KAAC,UAAD,EACI,OAAO,cAAE,wCACT,WAAG,EAAE,CAAC,gBAAN,WAAwBlB,SAAS,CAACkC,UAAV,CAAqBE,mBAA7C,OADS,cAET,YAAK,SAAS,CAAC,gBAAf,uBACA,eAAQ,OAAO,CAAEb,WAAjB,CAA8B,SAAS,CAAC,eAAxC,CAAwD,EAAE,CAAC,KAA3D,UAAkEvB,SAAS,CAACkC,UAAV,CAAqBG,kBAAvF,EADA,EAFS,GADb,CAQI,WAAW,CAAEd,WARjB,EADH,CAUW,IArBpB,CAsBCnB,OAAD,CAAWgB,OAAO,CAACkB,IAAR,CAAa,MAAb,CAAX,CAAkClB,OAAO,CAACkB,IAAR,CAAa,GAAb,CAtBlC,GAFJ,CA2BH,CAED,cAAepC,CAAAA,KAAf","sourcesContent":["import React,{useEffect, useState} from 'react'\nimport {useSelector} from 'react-redux';\nimport {Link,Route,Redirect,useHistory,BrowserRouter as Router} from 'react-router-dom'\nimport PopupLogin from '../common/PopupLogin';\nimport '../../assets/styles/LoginHome.css'\nimport Input from '../common/Input';\nimport * as constants from '../../utilities/Constants'\nimport {clearTextField} from '../../utilities/CommonMethods'\n\nfunction Login({login}) {\n\n    const [success,setSuccess] = useState(false)\n    const [currentUserName,setCurrentUserName] = useState(\"\")\n    const [currentPassword, setCurrentPassword]=useState(\"\")\n    const userNames =()=> window.localStorage.getItem('Username') || \" \"\n    const [ user,setUser ] = useState(userNames)\n    const userName = window.localStorage.getItem('Username')\n    const password = window.localStorage.getItem('password')\n    const [error, setError] = useState(false)   \n    let history = useHistory()\n\n    const [isOpen, setIsOpen] = useState(false);\n \n    const togglePopup = () => {\n      setIsOpen(!isOpen);\n      setError(false)\n\n    }\n\n\n    \n    const submitHandler = ()=>{\n\n        console.log(\"Users\",currentUserName, currentPassword)\n\n        if(currentUserName === userName && currentPassword == password){\n            console.log(\"Success\")\n            setUser(currentUserName)\n            setSuccess(true);\n            \n            console.log(\"User\",user)\n            login(currentUserName.toUpperCase())\n        }\n\n        else{\n            setError(true)\n            setCurrentUserName(\"\")\n            setCurrentPassword(\"\")\n           \n            \n        }    \n    }\n    const logout = ()=>{\n        console.log(\"logout\")\n        setSuccess(false)\n        \n      }\n\n      useEffect(()=>{\n          window.sessionStorage.setItem('Username',user)\n      },[user])\n      \n    const userNameHandler = (datas)=>{\n        setCurrentUserName(datas)\n        \n    }  \n    const passwordHandler = (datas)=>{\n        setCurrentPassword(datas)\n    } \n\n    return (\n        \n        <div className='login'>\n            <p className='loginHeading' >Login</p>\n                <div className='loginForm'>\n                    \n                    <Input type='text' id='username' placeHolder='Username' value={currentUserName} parentCallBack={(datas)=>userNameHandler(datas)} />\n                    \n                    <Input type='password' id='password' placeHolder='Password' value={currentPassword} parentCallBack={(datas)=>passwordHandler(datas)}/>\n            \n                </div>\n               \n    <button type='submit' className='button'onClick={submitHandler} value='Submit'>{constants.LOGIN_PAGE.LOGIN_FORM_SUBMIT_BUTTON}</button>\n                {(error)?(\n                    <PopupLogin\n                        content={<>\n                        <b id='logout-message'>{constants.LOGIN_PAGE.LOGIN_ERROR_MESSAGE} </b>\n                        <div className='logout-buttons'>\n                        <button onClick={togglePopup} className='button-logout' id='red'>{constants.LOGIN_PAGE.LOGIN_ERROR_BUTTON}</button>\n                        </div>\n                        \n                        </>}\n                        handleClose={togglePopup}\n                        />):null}\n       {(success)?(history.push(\"/add\")):(history.push(\"/\"))}\n        </div>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}