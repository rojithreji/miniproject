{"ast":null,"code":"import _toConsumableArray from\"/Users/rojithreji/Documents/msil/miniproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/rojithreji/Documents/msil/miniproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import'../../assets/styles/ChangePassword.css';import Popup from'../../components/common/Popup';var ChangePassword=function ChangePassword(){var password=window.localStorage.getItem('password');var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),currentPassword=_useState2[0],setCurrentPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newPassword=_useState4[0],setNewPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),success=_useState10[0],setSuccess=_useState10[1];var history=useHistory();var passwordUpdateHandler=function passwordUpdateHandler(){if(newPassword===\"\"||currentPassword===\"\"||confirmPassword===\"\"){setError.apply(void 0,_toConsumableArray(error).concat([\"Password cannot be blank !!\"]));setStrength(\"blank\");}else if(newPassword===confirmPassword){if(currentPassword===password){setSuccess(true);window.localStorage.setItem('password',newPassword);}else{setError.apply(void 0,_toConsumableArray(error).concat([\"Enter correct password !!\"]));setStrength('blank');setNewPassword(\"\");}}else{setError.apply(void 0,_toConsumableArray(error).concat([\"Password Does'nt Match !!\"]));setStrength('blank');setNewPassword(\"\");}setNewPassword('');};var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),length=_useState12[0],setLength=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),alphacaps=_useState14[0],setAlphaCaps=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),alphasmall=_useState16[0],setAlphaSmall=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),numeric=_useState18[0],setNumeric=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),spchar=_useState20[0],setSpchar=_useState20[1];var _useState21=useState(\"blank\"),_useState22=_slicedToArray(_useState21,2),strength=_useState22[0],setStrength=_useState22[1];var _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),strengthScore=_useState24[0],setStrengthScore=_useState24[1];var passwordStrengthHandler=function passwordStrengthHandler(){setStrength(false);if(!length&&newPassword.length>=8){setLength(true);setStrengthScore(strengthScore+1);}for(var i=0;i<newPassword.length;i++){var char=newPassword.charCodeAt(i);if(!alphacaps&&char>=65&&char<=90){setAlphaCaps(true);setStrengthScore(strengthScore+1);}if(!alphasmall&&char>=97&&char<=122){setAlphaSmall(true);setStrengthScore(strengthScore+1);}if(!numeric&&char>=48&&char<=57){setNumeric(true);setStrengthScore(strengthScore+1);}if(!spchar&&(char>=33&&char<=47||char>=58&&char<=64)){setSpchar(true);setStrengthScore(strengthScore+1);}}if(strengthScore===1){setStrength('Poor');}if(strengthScore===2){setStrength('Medium');}if(strengthScore===3){setStrength('Good');}if(length&&strengthScore===4){setStrength('Strong');}};var successPopup=function successPopup(){setSuccess(!success);setCurrentPassword(\"\");setNewPassword(\"\");setConfirmPassword(\"\");setStrength(\"blank\");};var ErrorPopup=function ErrorPopup(){setError(\"\");};var clear=function clear(){setStrength('blank');};return/*#__PURE__*/_jsxs(_Fragment,{children:[error!==\"\"?/*#__PURE__*/_jsx(Popup,{content:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"b\",{id:\"logout-message\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"logout-buttons\",children:/*#__PURE__*/_jsx(\"button\",{onClick:ErrorPopup,className:\"button-logout\",style:{backgroundColor:\"red\"},children:\"OK\"})})]})}):null,success?/*#__PURE__*/_jsx(Popup,{content:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"b\",{id:\"logout-message\",children:\"Success :)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logout-buttons\",children:/*#__PURE__*/_jsx(\"button\",{onClick:history.goBack,className:\"button-logout\",children:\"Done\"})})]})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"updatePassword\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"updatePasswordContent\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"p\",children:\"Change Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"updatePassword-fields\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Current Password\",required:true,id:\"name\",value:currentPassword,onChange:function onChange(e){return setCurrentPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"New Password\",required:true,id:\"name\",value:newPassword,onChange:function onChange(e){return setNewPassword(e.target.value);},onKeyUp:passwordStrengthHandler}),/*#__PURE__*/_jsx(\"div\",{className:strength,children:strength==='blank'?\"\":strength}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm Password\",required:true,id:\"name\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"updatePassword-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"buttons\",onClick:passwordUpdateHandler,children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"buttons\",onClick:history.goBack,style:{backgroundColor:\"red\"},children:\"Cancel\"})]})]})})]});};export default ChangePassword;","map":{"version":3,"sources":["/Users/rojithreji/Documents/msil/miniproject/src/components/postlogin/ChangePassword.js"],"names":["React","useState","useHistory","Popup","ChangePassword","password","window","localStorage","getItem","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","error","setError","success","setSuccess","history","passwordUpdateHandler","setStrength","setItem","length","setLength","alphacaps","setAlphaCaps","alphasmall","setAlphaSmall","numeric","setNumeric","spchar","setSpchar","strength","strengthScore","setStrengthScore","passwordStrengthHandler","i","char","charCodeAt","successPopup","ErrorPopup","clear","backgroundColor","goBack","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport {useHistory} from 'react-router-dom';\nimport '../../assets/styles/ChangePassword.css'\nimport Popup from '../../components/common/Popup'\n\nconst ChangePassword = () => {\n    const password = window.localStorage.getItem('password')\n    const [currentPassword,setCurrentPassword] = useState(\"\")\n    const [newPassword,setNewPassword] = useState(\"\")\n    const [confirmPassword,setConfirmPassword] = useState(\"\")\n    const [error,setError] =useState(\"\")\n    const [success,setSuccess]= useState(false)\n    const history = useHistory()\n    const passwordUpdateHandler = ()=>{\n        if(newPassword===\"\"||currentPassword===\"\"||confirmPassword===\"\"){\n            setError(...error,\"Password cannot be blank !!\")\n            setStrength(\"blank\")\n        }\n        else if(newPassword===confirmPassword){\n            if(currentPassword===password){\n                setSuccess(true)\n                window.localStorage.setItem('password',newPassword);\n                \n                \n            }\n            else{\n                setError(...error,\"Enter correct password !!\")\n                setStrength('blank')\n                setNewPassword(\"\")\n            }\n        }\n        else{\n            setError(...error,\"Password Does'nt Match !!\")\n            setStrength('blank')\n            setNewPassword(\"\")\n        }\n        setNewPassword('')\n    }\n  \n\n    const [length,setLength] = useState(false)\n    const [alphacaps,setAlphaCaps] = useState(false)\n    const [alphasmall,setAlphaSmall] = useState(false)\n    const [numeric,setNumeric] = useState(false)\n    const [spchar,setSpchar] = useState(false)\n    const [strength,setStrength] = useState(\"blank\")\n    const [strengthScore,setStrengthScore] = useState(0)\n    \n    \n   \n    const passwordStrengthHandler = ()=>{\n        setStrength(false)\n        \n      if(!length && newPassword.length>=8){setLength(true); setStrengthScore(strengthScore+1)}\n      \n        for(let i=0;i<newPassword.length;i++){\n            \n            let char = newPassword.charCodeAt(i)\n            if(!alphacaps && char >=65 && char <=90){\n                setAlphaCaps(true);\n                setStrengthScore(strengthScore+1)}\n            \n            if(!alphasmall && char >=97 && char <=122){\n                setAlphaSmall(true);\n                setStrengthScore(strengthScore+1)\n            }\n            if(!numeric && char >=48 && char <=57){\n                setNumeric(true);\n                setStrengthScore(strengthScore+1)\n            }\n            if(!spchar && ((char >=33 && char <=47) || (char >= 58 && char <= 64))){\n                setSpchar(true);\n                setStrengthScore(strengthScore+1)\n            }\n            \n        }\n            \n            if(strengthScore===1){setStrength('Poor')}\n            if(strengthScore===2){setStrength('Medium')}\n            if(strengthScore===3){setStrength('Good')}\n            if(length && strengthScore===4){setStrength('Strong')}\n                 \n    }\n    \n    const successPopup = ()=>{\n        setSuccess(!success)\n        setCurrentPassword(\"\")\n        setNewPassword(\"\")\n        setConfirmPassword(\"\")\n        setStrength(\"blank\")\n    }\n    const ErrorPopup = ()=>{\n        setError(\"\")\n    }\n    const clear = ()=>{\n        setStrength('blank') \n    }\n    return (\n        <>\n        {(error!==\"\")?(<Popup content={<>\n                        <b id='logout-message'>{error}</b> \n                         \n                        <div className='logout-buttons'>\n                            <button onClick={ErrorPopup} className='button-logout' style={{backgroundColor: \"red\"}}>OK</button>\n                        </div>\n                        \n                        </>}/>):null}\n        {(success)?(<Popup content={\n            <>\n             <b id='logout-message'>Success :)</b>          \n             <div className='logout-buttons'>\n                 <button onClick={history.goBack} className='button-logout'>Done</button>\n             </div>\n             </>\n        }/>):null\n        }                \n        <div className='updatePassword'>\n            <div className='updatePasswordContent'>\n                   <p className='p'>Change Password</p>\n                \n                    <div className='updatePassword-fields'>\n                        <input type='password' placeholder='Current Password' required id='name' value={currentPassword} onChange={(e)=>setCurrentPassword(e.target.value)}></input>\n                        <input type='password' placeholder='New Password' required id='name' value={newPassword} onChange={(e)=>setNewPassword(e.target.value)} onKeyUp={passwordStrengthHandler}></input>\n                            <div className={strength}>{(strength==='blank')?(\"\"):(strength)}</div>\n                        <input type='password' placeholder='Confirm Password' required id='name' value={confirmPassword} onChange={(e)=>setConfirmPassword(e.target.value)}></input>\n                    </div>\n                    <br/>\n\n                    <div className='updatePassword-buttons'>\n                                    <button type='submit' className='buttons' onClick={passwordUpdateHandler}>Update</button>\n                                    <button type='submit' className='buttons' onClick={history.goBack} style={{backgroundColor: \"red\"}}>Cancel</button> \n                    </div>\n \n            </div>\n            \n        </div>\n        </>\n    )\n}\n\nexport default ChangePassword\n"]},"metadata":{},"sourceType":"module"}