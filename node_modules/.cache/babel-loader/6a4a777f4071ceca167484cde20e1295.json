{"ast":null,"code":"import _slicedToArray from\"/Users/rojithreji/Documents/msil/miniproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import'../../assets/styles/Product.css';import axios from'axios';import Input from'../common/Input';import PopupProduct from'../common/PopupProduct';import Spinner from'../common/Spinner';var Product=function Product(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),searchResult=_useState8[0],setSearchResult=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),description=_useState10[0],setDescription=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),priceOption=_useState12[0],setPriceOption=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),currentProduct=_useState14[0],setCurrentProduct=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isProduct=_useState16[0],setIsProduct=_useState16[1];var _useState17=useState(1),_useState18=_slicedToArray(_useState17,2),count=_useState18[0],setCount=_useState18[1];useEffect(function(){var apiUrl=\"https://hplussport.com/api/products/order/price/sorc/qty/100\";fetch(apiUrl).then(function(res){return res.json();}).then(function(data){setProduct(data);console.log(\"d\",data.name);var name=data.forEach(function(data){return data.name;});console.log(\"huhu\",name);setSearchResult(data.filter(function(itm){return itm.name.toLowerCase().includes(search.toLowerCase())||itm.price.includes(search);}));setLoaded(true);});},[search,setSearchResult,setPriceOption]);console.log(\"kikikii\",searchResult);console.log(\"pr\",product);console.log(search);var toggleDescription=function toggleDescription(id){setDescription(!description);console.log(id);};var sortPrice=function sortPrice(value){if(value==='lowtoHigh'){setPriceOption('lowtoHigh');console.log(\"here low\");var lth=searchResult.reverse();setSearchResult(lth);console.log(\"dshjdbs\",lth);setCount(2);}if(value==='hightoLow'){if(count==1){setSearchResult(searchResult);}else if(count==2){setPriceOption('hightoLow');console.log(\"here high\");setSearchResult(searchResult.reverse());}}};var currentProductHandler=function currentProductHandler(item){setCurrentProduct(item);setIsProduct(true);};var toggleProduct=function toggleProduct(){setIsProduct(false);};console.log(priceOption);return/*#__PURE__*/_jsxs(_Fragment,{children:[isProduct?/*#__PURE__*/_jsx(PopupProduct,{content:/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsxs(\"h3\",{className:\"productPopupHeading\",children:[currentProduct.name,\" - $\",currentProduct.price,\" \"]}),/*#__PURE__*/_jsx(\"img\",{src:currentProduct.image,alt:currentProduct.image_title,className:\"productPopupImage\"}),/*#__PURE__*/_jsx(\"p\",{className:\"productPopupDescription\",children:currentProduct.description}),/*#__PURE__*/_jsx(\"p\",{className:\"price\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logout-buttons\",children:/*#__PURE__*/_jsx(\"button\",{onClick:toggleProduct,className:\"buttonProductCancel\",id:\"red\",children:\"Cancel\"})}),\" \"]})}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"productHeader\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"productHeader-left\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\" \\uF002 Search for Name and Price\",className:\"productSearch fontAwesome\",value:search,onChange:function onChange(e){return setSearch(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"productHeader-right\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"filter\",className:\"productSelect\",onChange:function onChange(e){return sortPrice(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Filter\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lowtoHigh\",children:\"Low to High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hightoLow\",children:\"High to Low\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[loaded?searchResult.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.image_title,style:{width:\"90%\"}}),/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[\"$\",item.price]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return currentProductHandler(item);},children:\" Show Details\"})})]},item.id);}):/*#__PURE__*/_jsx(Spinner,{}),searchResult==\"\"&&loaded?/*#__PURE__*/_jsx(\"p\",{className:\"productNotFound\",children:\"OOOOPS Item not Found !!!!\"}):null]})]});};export default Product;","map":{"version":3,"sources":["/Users/rojithreji/Documents/msil/miniproject/src/components/postlogin/Product.js"],"names":["React","useEffect","useState","axios","Input","PopupProduct","Spinner","Product","product","setProduct","loaded","setLoaded","search","setSearch","searchResult","setSearchResult","description","setDescription","priceOption","setPriceOption","currentProduct","setCurrentProduct","isProduct","setIsProduct","count","setCount","apiUrl","fetch","then","res","json","data","console","log","name","forEach","filter","itm","toLowerCase","includes","price","toggleDescription","id","sortPrice","value","lth","reverse","currentProductHandler","item","toggleProduct","image","image_title","e","target","map","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport '../../assets/styles/Product.css';\nimport axios from 'axios';\nimport Input from '../common/Input';\nimport PopupProduct from '../common/PopupProduct';\nimport Spinner from '../common/Spinner'\n\n\nconst Product = () => {\n\n    \n    const [product,setProduct]=  useState(null)\n    const [loaded,setLoaded] = useState(false)\n    const [search,setSearch]= useState(\"\")\n    const [searchResult,setSearchResult]= useState([])\n    const [description,setDescription]= useState(false)\n    const [priceOption,setPriceOption] = useState(\"\")\n    const [currentProduct,setCurrentProduct] = useState(\"\")\n    const [isProduct,setIsProduct] = useState(false)\n    const [count,setCount] = useState(1)\n\n        useEffect(() => {\n            const apiUrl = \"https://hplussport.com/api/products/order/price/sorc/qty/100\"\n             fetch(apiUrl)\n          \n              .then(res =>{ return res.json()})\n              .then(data => {\n                setProduct(data)\n                  console.log(\"d\",data.name)\n                  let name = data.forEach(data=>{return data.name})\n                  console.log(\"huhu\",name)\n                setSearchResult(data.filter(itm=>(itm.name.toLowerCase().includes(search.toLowerCase()))||(itm.price.includes(search))))\n               \n                setLoaded(true)\n                \n                \n              })\n          },[search,setSearchResult,setPriceOption]);\n                \n       \n    \n    console.log(\"kikikii\",searchResult)\n    console.log(\"pr\",product)\n    console.log(search)\n    const toggleDescription = (id)=>{\n        setDescription(!description)\n        console.log(id)\n    }\n    const sortPrice = (value) =>{\n        if (value ==='lowtoHigh'){\n            setPriceOption('lowtoHigh')\n            console.log(\"here low\")\n            const lth = searchResult.reverse();\n            setSearchResult(lth);\n            console.log(\"dshjdbs\",lth)\n            setCount(2)\n        }\n        if(value ==='hightoLow'){\n            if(count==1){\n                setSearchResult(searchResult)\n            }\n            else if(count==2){\n                setPriceOption('hightoLow')\n                console.log(\"here high\")\n                setSearchResult(searchResult.reverse());\n\n            }\n        }  \n\n    }\n    const currentProductHandler=(item)=>{\n        setCurrentProduct(item)\n        setIsProduct(true)\n    }\n    const toggleProduct = ()=>{\n        setIsProduct(false)\n    }\n    console.log(priceOption)\n    return(\n    <>\n    {isProduct?(<PopupProduct content={<> <h3 className='productPopupHeading'>{currentProduct.name} - ${currentProduct.price} </h3>\n                                    <img src={currentProduct.image} alt={currentProduct.image_title} className='productPopupImage'/>\n                                    <p className='productPopupDescription'>{currentProduct.description}</p>\n                                    <p className=\"price\"></p><div className='logout-buttons'>\n                                         <button onClick={toggleProduct} className='buttonProductCancel' id='red'>Cancel</button>\n                        </div> </>}/>):null}\n    <div className=\"productHeader\">\n        <div className='productHeader-left'>\n            <input type=\"text\" placeholder=\" &#xF002; Search for Name and Price\" className=\"productSearch fontAwesome\" value={search} onChange={(e)=>setSearch(e.target.value)}/>\n        </div>\n        <div className='productHeader-right'>\n                            <select name='filter' className='productSelect' onChange={(e)=>sortPrice(e.target.value)}>\n                                <option>Filter</option>\n                                <option value='lowtoHigh'>Low to High</option>\n                                <option value='hightoLow'>High to Low</option>\n                            </select>   \n        </div>\n        \n    </div>\n    <div className=\"product\">\n        {loaded?(\n            searchResult.map(item=>\n            <div className=\"card\" key={item.id}>\n                <img src={item.image} alt={item.image_title} style={{width:\"90%\"}}/>\n                <h3>{item.name}</h3>\n                <p className=\"price\">${item.price}</p>\n                <p><button onClick={()=>currentProductHandler(item)}> Show Details</button></p>  \n            </div>\n            )\n        ):<Spinner/>\n        }\n        {searchResult==\"\" && loaded?(<p className=\"productNotFound\">OOOOPS Item not Found !!!!</p>):null}\n    </div>\n    </>\n    \n)\n       \n}\n\nexport default Product\n\n\n"]},"metadata":{},"sourceType":"module"}